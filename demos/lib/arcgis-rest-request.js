var arcgis_rest_request=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){
/* @preserve
* @esri/arcgis-rest-request - v1.14.4 - Apache-2.0
* Copyright (c) 2017-2019 Esri, Inc.
* Sun Jan 20 2019 10:57:03 GMT-0800 (Pacific Standard Time)
*/
!function(e){"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,r)},r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function n(e){return Object.keys(e).some(function(t){var r=e[t];if(!r)return!1;switch(r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}})}function o(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(n||0===n||"boolean"==typeof n||"string"==typeof n){var o;switch(n.constructor.name){case"Array":o=n[0]&&n[0].constructor&&"Object"===n[0].constructor.name?JSON.stringify(n):n.join(",");break;case"Object":o=JSON.stringify(n);break;case"Date":o=n.valueOf();break;case"Function":o=null;break;case"Boolean":o=n+"";break;default:o=n}(o||0===o||"string"==typeof o)&&(t[r]=o)}}),t}function a(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function s(e){var t=o(e);return Object.keys(t).map(function(e){return a(e,t[e])}).join("&")}function c(e){var t=n(e),r=o(e);if(t){var a=new FormData;return Object.keys(r).forEach(function(e){if("undefined"!=typeof Blob&&r[e]instanceof Blob){var t=r.fileName||r[e].name||e;a.append(e,r[e],t)}else a.append(e,r[e])}),a}return s(e)}var i=function(e,t,r,n,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=o};function u(e,t){void 0===t&&(t={params:{f:"json"}});var o=r({httpMethod:"POST"},t),a=[],u=[];if(o.fetch||"undefined"==typeof fetch?(a.push("`fetch`"),u.push("`isomorphic-fetch`")):o.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(a.push("`Promise`"),u.push("`es6-promise`")),"undefined"==typeof FormData&&(a.push("`FormData`"),u.push("`isomorphic-form-data`")),!o.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires global variables for `fetch`, `Promise` and `FormData` to be present in the global scope. You are missing "+a.join(", ")+". We recommend installing the "+u.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var f=o.httpMethod,p=o.authentication,h=r({f:"json"},t.params),d={method:f,credentials:"same-origin"};return(p?p.getToken(e,{fetch:o.fetch}):Promise.resolve("")).then(function(t){if(t.length&&(h.token=t),"GET"===d.method){var r=""===s(h)?e:e+"?"+s(h);o.maxUrlLength&&r.length>o.maxUrlLength?d.method="POST":e=r}return"POST"===d.method&&(d.body=c(h)),d.headers={},"undefined"==typeof window&&(d.headers.referer="@esri/arcgis-rest"),n(h)||(d.headers["Content-Type"]="application/x-www-form-urlencoded"),o.fetch(e,d)}).then(function(t){if(!t.ok){var r=t.status,n=t.statusText;throw new i(n,"HTTP "+r,t,e,o)}switch(h.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}}).then(function(t){return"json"===h.f||"geojson"===h.f?l(t,e,0,o):t})}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i;var f,p=function(e){function n(t,r,n,o,a){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var s=e.call(this,t,r,n,o,a)||this;return s.name="ArcGISAuthError",s.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,s}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}(n,e),n.prototype.retry=function(e,t){var n=this;void 0===t&&(t=3);var o=0,a=function(s,c){e(n.url,n.options).then(function(e){var t=r({},n.options,{authentication:e});return o+=1,u(n.url,t)}).then(function(e){s(e)}).catch(function(e){"ArcGISAuthError"===e.name&&o<t?a(s,c):"ArcGISAuthError"===e.name&&o>=t?c(n):c(e)})};return new Promise(function(e,t){a(e,t)})},n}(i);function l(e,t,r,n){if(e.code>=400){var o=e.message,a=e.code;throw new i(o,a,e,t,n)}if(e.error){var s=e.error,c=(o=s.message,a=s.code,s.messageCode),u=c||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===c)throw new p(o,u,e,t,n);throw new i(o,u,e,t,n)}if("failed"===e.status||"failure"===e.status){o=void 0,a="UNKNOWN_ERROR_CODE";try{o=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){o=e.statusMessage||e.message}throw new i(o,a,e,t,n)}return e}function h(e){return"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}function d(e){return void 0===e&&(e={}),e.portal?h(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}function m(e,t){var n=e||"self";return u(d(t)+"/portals/"+n,r({httpMethod:"GET"},t))}(f=e.ErrorTypes||(e.ErrorTypes={})).ArcGISRequestError="ArcGISRequestError",f.ArcGISAuthError="ArcGISAuthError",e.request=u,e.ArcGISAuthError=p,e.checkForErrors=l,e.encodeFormData=c,e.encodeParam=a,e.encodeQueryString=s,e.warn=function(e){console&&console.warn&&console.warn.apply(console,[e])},e.ArcGISRequestError=i,e.requiresFormData=n,e.processParams=o,e.getSelf=function(e){return m(null,e)},e.getPortal=m,e.getPortalUrl=d,e.appendCustomParams=function(e,t){Object.keys(e).forEach(function(r){"url"!==r&&"params"!==r&&"authentication"!==r&&"httpMethod"!==r&&"fetch"!==r&&"portal"!==r&&"maxUrlLength"!==r&&"endpoint"!==r&&"decodeValues"!==r&&(t.params[r]=e[r])})},e.cleanUrl=h,Object.defineProperty(e,"__esModule",{value:!0})}(t)}]);