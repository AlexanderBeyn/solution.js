var adlib=function(e){var r={};function n(t){if(r[t])return r[t].exports;var u=r[t]={i:t,l:!1,exports:{}};return e[t].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var u in e)n.d(t,u,function(r){return e[r]}.bind(null,u));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r,n){!function(e){"use strict";var r=function(e,r,n){return void 0===n&&(n=void 0),r.split(".").reduce(function(e,r){return e?e[r]:n},e)};function n(e,r){var n=Object.keys(e),t=n.reduce(function(n,t){return n[t]=r(e[t],t,e),n},{});return t}var t=function(e){return e instanceof Date},u=function(e){return"function"==typeof e},o=function(e){return"object"==typeof e},i=function(e){return e instanceof RegExp};function a(e,r,f){if(f=f||"",Array.isArray(e))return e.map(c);if(!e||!o(e)||t(e)||i(e)||u(e)){var l=r(e,f);return l}return Object.assign({},e,n(e,c));function c(e,n){var t=f?f+"."+n:n;return a(e,r,t)}}var f=function(e){return"object"==typeof e};function l(e,r){if(r=r||"",Array.isArray(e)){var t=e.map(u).filter(function(e){return null!=e});return c(t)}return e&&f(e)?p(n(e,u)):v(e);function u(e,n){var t=r?r+"."+n:n;return l(e,t)}}function c(e){var r=e,n=e.reduce(function(e,r){if(y(r)&&d(r)){var n=s(r);n>e&&(e=n)}return e},-1);return n>-1&&(r=0===n?[]:"{{delete:"+(n-1)+"}}"),r}function p(e){var r=Object.keys(e).reduce(function(r,n){var t=e[n];if(y(t)&&d(t)){var u=s(t);u>r.maxLevel&&(r.maxLevel=u)}else r.obj[n]=t;return r},{obj:{},maxLevel:-1});return r.maxLevel>0?1===r.maxLevel?void 0:"{{delete:"+(r.maxLevel-1)+"}}":r.obj}function v(e){var r=e;return"string"==typeof e&&d(e)&&(r=function(e){var r=s(e);return 0===r?void 0:"{{delete:"+r+"}}"}(e)),r}var s=function(e){return parseInt(e.replace(/{|}/g,"").split(":")[1])};function d(e){return!(!e||"string"!=typeof e)&&e.indexOf("{{delete")>-1}var y=function(e){return"string"==typeof e};function m(e,r,n,t){void 0===t&&(t=0);var u=r;return r||(u="{{delete:"+t+"}}"),u}var b=/{{\s*?[\w].*?}}/g,g=function(e){return"string"==typeof e};e.adlib=function(e,n,t){if(void 0===t&&(t=null),(t=t||{}).optional)throw new Error("Please do not pass in an `optional` transform; adlib provides that internally.");return t.optional=m,l(a(e,function(e,u){if(!g(e))return e;var o,i=e.match(b);if(i&&i.length){var a=!1,f=i.map(function(e){var u=e.replace(/{|}/g,"").trim();if(u.indexOf("||")>-1){var o=u.split("||").map(function(e){return e.trim()}),i=o.length;u=o.find(function(e,t){var u,o,f=(u=n,o=e.split(":")[0],null!=r(u,o,null));return f?e:t+1===i&&(a=!0,isNaN(e)||(e=parseInt(e)),e)})}var f={key:e,value:u};return a||(f.value=function(e,n,t){var u,o=e.split(":");if(o.length>1){var i=o[0],a=o[1],f=null;if(o[2]&&(f=o[2]),!t||!t[a]||"function"!=typeof t[a])throw new Error("Attempted to apply non-existant transform "+a+" on "+i+" with params "+e);u=r(n,i),u=t[a](i,u,n,f)}else u=r(n,e);return u}(u,n,t)||e),f});return f.forEach(function(r){e===r.key?("string"==typeof r.value&&(isNaN(r.value)||(r.value.indexOf(".")>-1?r.value=parseFloat(r.value):r.value=parseInt(r.value))),o=r.value):e=e.replace(r.key,r.value)}),o||e}return e}))},e.listDependencies=function(e){"string"!=typeof e&&(e=JSON.stringify(e));try{return Array.from(new Set(e.match(b))).map(function(e){return e.replace(/^{{/g,"").replace(/}}$/g,"").replace(/:.+$/,"")})}catch(e){console.error(e)}},e.deepMapValues=a,e.getWithDefault=r,e.mapValues=n,e.arborist=l,e.pruneArray=c,e.pruneObject=p,e.getPropertyValue=v,e.optionalTransform=m,Object.defineProperty(e,"__esModule",{value:!0})}(r)}]);